import { BrowserRouter as Router, Routes, Route } from "react-router-dom";
import { ThemeProvider, CssBaseline } from "@mui/material";
import { useMemo, useState } from "react";
import { getTheme } from "./theme";
import Login from "./pages/Login";
import AdminDashboard from "./pages/AdminDashboard";
import StudentDashboard from "./pages/StudentDashboard";
import AddStudent from "./pages/AddStudent";
import AddMarks from "./pages/AddMarks";
import Reports from "./pages/Reports";
import StudentReports from "./pages/StudentReports";
import AdminStudentInsights from "./pages/AdminStudentInsights";
import AdminAttendance from "./pages/AdminAttendance";
import StudentManagement from "./pages/StudentManagement";
import StudentAttendamce from "./pages/StudentAttendance";

function App() {
  const [mode, setMode] = useState("light");

  const theme = useMemo(() => getTheme(mode), [mode]);

  return (
    <ThemeProvider theme={theme}>
      <CssBaseline />

      <Router>
      <Routes>
        <Route path="/" element={<Login />} />
        <Route path="/admin" element={<AdminDashboard />} />
        <Route path="/student" element={<StudentDashboard />} />
        <Route path="/admin-attendance" element={<AdminAttendance />} />
        <Route path="/student-management" element={<StudentManagement />} />
        <Route path="/add-student" element={<AddStudent />} />
        <Route path="/add-marks" element={<AddMarks />} />
        <Route path="/admin-reports" element={<Reports role="admin" />} />
        <Route path="/admin-insights" element={<AdminStudentInsights />} />
        <Route path="/student-attendance" element={<StudentAttendamce />} />
        <Route path="/student-reports" element={<StudentReports role="student" />} />
      </Routes>
    </Router>
      
    </ThemeProvider>
  );
}

export default App;